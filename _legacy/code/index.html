<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Code - Sahar Mor</title>
	<meta name="description" content="Open source repositories and personal projects by Sahar Mor." />
	
	<!-- Open Graph / Twitter -->
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://saharmor.me/code/" />
	<meta property="og:title" content="Code - Sahar Mor" />
	<meta property="og:description" content="Open source repositories and personal projects by Sahar Mor." />
	<meta name="twitter:card" content="summary" />
	
	<link rel="stylesheet" href="../assets/css/site.css" />
	<link rel="apple-touch-icon" sizes="180x180" href="../assets/logos/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../assets/logos/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../assets/logos/favicon-16x16.png">
	<link rel="manifest" href="../assets/logos/site.webmanifest">

	<!-- Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-8Y2X2RCJWT"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', 'G-8Y2X2RCJWT');
	</script>
</head>
<body>
	<a href="#main" class="skip-link">Skip to main content</a>
	<nav>
		<div class="container">
			<div></div>
			<ul>
				<li><a href="../">Home</a></li>
				<li><a href="../writing/">Writing</a></li>
				<li><a href="../code/" class="active">Code</a></li>
			</ul>
		</div>
	</nav>

	<main id="main" class="container">
		<section class="hero">
			<h1>Code</h1>
			<p>Open source repositories and personal projects.</p>
		</section>

		<section id="open-source">
			<h2>Open Source</h2>
			<div class="card-grid" id="repos-grid"></div>
		</section>

		<section id="projects">
			<h2>Personal Projects</h2>
			<div class="card-grid" id="projects-grid"></div>
		</section>

	</main>

	<footer>
		<div class="container">
			<p>&copy; 2025 Sahar Mor. All rights reserved.</p>
		</div>
	</footer>

	<script>
		// Load GitHub repos
		fetch('../assets/data/github-repos.generated.json')
			.then(res => res.json())
			.then(data => {
				const container = document.getElementById('repos-grid');
				data.forEach(repo => {
					const card = document.createElement('a');
					card.className = 'card';
					card.href = repo.url;
					card.target = '_blank';
					card.rel = 'noopener noreferrer';
					card.innerHTML = `
						${repo.thumbnail ? `<img src="../${repo.thumbnail}" alt="${repo.name} project thumbnail" class="card-thumbnail" loading="lazy" onerror="this.style.display='none'">` : ''}
						<div class="card-title">${repo.name}</div>
						<div class="card-description">${repo.description || 'No description available'}</div>
					`;
					container.appendChild(card);
				});
			})
			.catch(err => {
				console.error('Error loading repos:', err);
				document.getElementById('repos-grid').innerHTML = '<p>Repos data not available. Run <code>npm run build:data</code> to generate.</p>';
			});

		// Load projects
		fetch('../assets/data/projects.json')
			.then(res => res.json())
			.then(data => {
				const container = document.getElementById('projects-grid');
				data.forEach(project => {
					const card = document.createElement('a');
					card.className = 'card';
					card.href = project.url;
					card.target = '_blank';
					card.rel = 'noopener noreferrer';
					card.innerHTML = `
						${project.thumbnail ? `<img src="../${project.thumbnail}" alt="${project.title} project thumbnail" class="card-thumbnail" loading="lazy" onerror="this.style.display='none'">` : ''}
						<div class="card-title">${project.title}</div>
						<div class="card-description">${project.description}</div>
					`;
					container.appendChild(card);
				});
			})
			.catch(err => console.error('Error loading projects:', err));

	</script>
</body>
</html>

